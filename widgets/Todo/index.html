<div class='ui medium form'>
	<div class='fields'>
		<div id='outstandingTodos'></div>
		<div class='field'>
			<input placeholder='Add new' type='text' id='todoInput' class="in-form">
		</div>
	</div>
</div>

<script type="text/javascript">

	var isSubmitShown = false;

	var Todo = {

	init: function(todos)
	{
		Todo.createFormListeners();
	},

	createFormListeners: function()
	{
		// makes the form submit button look pretty
		Todo.makeNewTodoFieldClickable();
	},

	makeNewTodoFieldClickable: function()
	{
		$(".in-form").click(function(){

			var who = $(this)[0].id;
			
			$("#" + who).keyup(function(){
				var val = $("#" + who).val();

				if (val.length >= 1) Todo.showSubmit(who);
				else Todo.hideSubmit();

			});
		});
	},

	showSubmit: function(who)
	{
		if (!isSubmitShown)
		{
			var submitButton = "<div class='in-form-submit'>Submit</div>";

			$(submitButton).hide().appendTo($("#" + who).parent()).fadeIn().addClass("nudge");

		}
		isSubmitShown = true;

	},

	hideSubmit: function()
	{
		if (isSubmitShown)
		{
			$(".in-form-submit").removeClass("nudge");
			isSubmitShown = false;
		}
	},

};
</script>

